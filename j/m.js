(function(b){function d(a,c,b){c=e[c]||"";a=a.replace(new RegExp("^(\\s*)("+b+")(,?)$","gmi"),'$1<span class="'+c+'">$2</span>$3');return a=a.replace(new RegExp(": ("+b+")(,?)$","gmi"),': <span class="'+c+'">$1</span>$2')}var m=b.getElementById("form"),g=b.getElementById("input"),h=b.getElementById("indent"),k=b.getElementById("output"),f=b.getElementById("error"),l=2,e={"null":"n0",string:"s",number:"n","boolean":"b"};m.addEventListener("submit",function(a){var c=g.value,b;a.preventDefault();if(c)try{l=
parseInt(h.options[h.selectedIndex].value,10),f.innerHTML="",c=JSON.parse(c),b=JSON.stringify(c,null,l),a=g.value=b,a=a.replace(/^(\s+".*?"):/gmi,"<span class='p'>$1</span>:"),a=d(a,"null","null"),a=d(a,"string",'".*?"'),a=d(a,"number","-?[0-9.e+]+?"),a=d(a,"boolean","(true|false)"),k.innerHTML=a,k.focus()}catch(e){f.innerHTML=e.message,f.focus()}})})(document);