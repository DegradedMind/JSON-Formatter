(function(c){function e(a,b,d){b=m[b]||"";a=a.replace(new RegExp("^(\\s+"+d+")$","gmi"),'<span class="'+b+'">$1</span>');a=a.replace(new RegExp("^(\\s+"+d+"),$","gmi"),'<span class="'+b+'">$1</span>,');a=a.replace(new RegExp(": ("+d+"),$","gmi"),': <span class="'+b+'">$1</span>,');return a=a.replace(new RegExp(": ("+d+")$","gmi"),': <span class="'+b+'">$1</span>')}var n=c.getElementById("form"),g=c.getElementById("input"),h=c.getElementById("indent"),k=c.getElementById("output"),f=c.getElementById("error"),
l=2,m={"null":"n0",string:"s",number:"n","boolean":"b"};n.addEventListener("submit",function(a){var b=g.value,d;a.preventDefault();if(b)try{l=parseInt(h.options[h.selectedIndex].value,10),f.innerHTML="",b=JSON.parse(b),d=JSON.stringify(b,null,l),a=g.value=d,a=a.replace(/^(\s+".*?"):/gmi,"<span class='p'>$1</span>:"),a=e(a,"null","null"),a=e(a,"string",'".*?"'),a=e(a,"number","[0-9.]*?"),a=e(a,"boolean","(true|false)"),k.innerHTML=a,k.focus()}catch(c){f.innerHTML=c.message,f.focus()}})})(document);